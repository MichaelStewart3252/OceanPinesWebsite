<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean Pines Data</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <!-- Ocean Pines Image at the top -->
    <header>
        <img src="/images/oceanpines.png" alt="Ocean Pines Logo" class="header-img">
        <h1 class="second-header">Owner Sales</h1>
        <div class="additional-text">
            <p>The information on this page is intended to help connect owners who want to sell their weeks at Ocean Pines with owners seeking to buy additional weeks at the Resort. 
                Information on accommodations is available <a href="https://oceanpinesresort.com/accommodations/">here</a>; click <a href="/pdfs/opmap.pdf" target="_blank">here</a> for a map of the resort.
                Listing units for sale is voluntary. Transactions between owners are private, with no involvement nor responsibility on the part of the Ocean Pines Board of Directors nor Capital Vacations. All sales (1) require appropriate legal closings via a title attorney and (2) must be reported to the Board of Directors and Capital Vacations immediately upon closing.
            </p>                
        </div>
    </header>

    <!-- Table to display data -->
    <main>
        <table id="data-table">
            <thead>
                <tr>
                    <th>Unit</th>
                    <th>Week</th>
                    <th>Owner's Name</th>
                    <th>Owner's Contact</th>
                    <th>Sales Price (Optional)</th>
                </tr>
            </thead>
            <tbody id="table-body">
                <!-- Data will be inserted here dynamically -->
            </tbody>
        </table>
    </main>

    <script>
        // Fetch and display the data dynamically
        fetch('/data')
            .then(response => response.json())
            .then(data => {
                const tableBody = document.getElementById('table-body');
                data.forEach(row => {
                    const tableRow = document.createElement('tr');
                    tableRow.innerHTML = `
                        <td>${row['Unit']}</td>
                        <td>${row['Week']}</td>
                        <td>${row['Owner Name']}</td>
                        <td>${row['Owner Contact']}</td>
                        <td>${row['Price']}</td>

                        
                    `;
                    tableBody.appendChild(tableRow);
                });
            })
            .catch(err => console.error('Error fetching data:', err));
    </script>
</body>
</html>